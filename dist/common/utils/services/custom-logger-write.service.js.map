{"version":3,"sources":["../../../../src/common/utils/services/custom-logger-write.service.ts"],"sourcesContent":["// src/logger/my-logger.service.ts\n\nimport { Injectable, LoggerService } from '@nestjs/common';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\n@Injectable()\nexport class MyLogger implements LoggerService {\n  private logFilePath = path.join(__dirname, '../logs/app.log');\n\n  log(message: any, ...optionalParams: any[]) {\n    this.writeLog('LOG', message, ...optionalParams);\n  }\n\n  error(message: any, ...optionalParams: any[]) {\n    this.writeLog('ERROR', message, ...optionalParams);\n  }\n\n  warn(message: any, ...optionalParams: any[]) {\n    this.writeLog('WARN', message, ...optionalParams);\n  }\n\n  debug(message: any, ...optionalParams: any[]) {\n    this.writeLog('DEBUG', message, ...optionalParams);\n  }\n\n  verbose(message: any, ...optionalParams: any[]) {\n    this.writeLog('VERBOSE', message, ...optionalParams);\n  }\n\n  fatal(message: any, ...optionalParams: any[]) {\n    this.writeLog('FATAL', message, ...optionalParams);\n  }\n\n  private writeLog(level: string, message: any, ...optionalParams: any[]) {\n    const formattedMessage = this.formatLog(level, message, ...optionalParams);\n\n    console.log(formattedMessage);\n\n    this.appendLogToFile(formattedMessage);\n  }\n\n  private formatLog(\n    level: string,\n    message: any,\n    ...optionalParams: any[]\n  ): string {\n    const timestamp = new Date().toISOString();\n    return `${timestamp} [${level}] ${message} ${optionalParams.join(' ')}`;\n  }\n\n  private appendLogToFile(message: string) {\n    fs.appendFile(this.logFilePath, message + '\\n', (err) => {\n      if (err) {\n        console.error('Failed to write log to file:', err);\n      }\n    });\n  }\n}\n"],"names":["MyLogger","log","message","optionalParams","writeLog","error","warn","debug","verbose","fatal","level","formattedMessage","formatLog","console","appendLogToFile","timestamp","Date","toISOString","join","fs","appendFile","logFilePath","err","path","__dirname"],"mappings":"AAAA,kCAAkC;;;;;+BAOrBA;;;eAAAA;;;wBAL6B;4DACtB;8DACE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGf,IAAA,AAAMA,WAAN,MAAMA;IAGXC,IAAIC,OAAY,EAAE,GAAGC,cAAqB,EAAE;QAC1C,IAAI,CAACC,QAAQ,CAAC,OAAOF,YAAYC;IACnC;IAEAE,MAAMH,OAAY,EAAE,GAAGC,cAAqB,EAAE;QAC5C,IAAI,CAACC,QAAQ,CAAC,SAASF,YAAYC;IACrC;IAEAG,KAAKJ,OAAY,EAAE,GAAGC,cAAqB,EAAE;QAC3C,IAAI,CAACC,QAAQ,CAAC,QAAQF,YAAYC;IACpC;IAEAI,MAAML,OAAY,EAAE,GAAGC,cAAqB,EAAE;QAC5C,IAAI,CAACC,QAAQ,CAAC,SAASF,YAAYC;IACrC;IAEAK,QAAQN,OAAY,EAAE,GAAGC,cAAqB,EAAE;QAC9C,IAAI,CAACC,QAAQ,CAAC,WAAWF,YAAYC;IACvC;IAEAM,MAAMP,OAAY,EAAE,GAAGC,cAAqB,EAAE;QAC5C,IAAI,CAACC,QAAQ,CAAC,SAASF,YAAYC;IACrC;IAEQC,SAASM,KAAa,EAAER,OAAY,EAAE,GAAGC,cAAqB,EAAE;QACtE,MAAMQ,mBAAmB,IAAI,CAACC,SAAS,CAACF,OAAOR,YAAYC;QAE3DU,QAAQZ,GAAG,CAACU;QAEZ,IAAI,CAACG,eAAe,CAACH;IACvB;IAEQC,UACNF,KAAa,EACbR,OAAY,EACZ,GAAGC,cAAqB,EAChB;QACR,MAAMY,YAAY,IAAIC,OAAOC,WAAW;QACxC,OAAO,CAAC,EAAEF,UAAU,EAAE,EAAEL,MAAM,EAAE,EAAER,QAAQ,CAAC,EAAEC,eAAee,IAAI,CAAC,KAAK,CAAC;IACzE;IAEQJ,gBAAgBZ,OAAe,EAAE;QACvCiB,IAAGC,UAAU,CAAC,IAAI,CAACC,WAAW,EAAEnB,UAAU,MAAM,CAACoB;YAC/C,IAAIA,KAAK;gBACPT,QAAQR,KAAK,CAAC,gCAAgCiB;YAChD;QACF;IACF;;aAjDQD,cAAcE,MAAKL,IAAI,CAACM,WAAW;;AAkD7C"}